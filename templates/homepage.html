<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoundDash - Monitoriza√ß√£o de sons urbanos</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }
        .navbar-brand span {
            font-size: 1.5rem;
        }
        .hero-section {
            background-color: #26a69a; /* Cor prim√°ria do tema */
            color: white;
            padding: 80px 0;
            text-align: center;
        }
        .hero-section h1 {
            font-weight: 700;
            margin-bottom: 20px;
        }
        .hero-section p {
            font-size: 1.2rem;
            margin-bottom: 40px;
        }
        .dashboard-buttons .btn {
            font-size: 1.1rem;
            padding: 12px 30px;
            margin: 10px;
            border-radius: 50px; /* Bot√µes arredondados */
        }
        .dashboard-buttons .btn-light {
            background-color: #fff;
            color: #26a69a;
            border: 2px solid #fff;
        }
        .dashboard-buttons .btn-outline-light {
            color: #fff;
            border: 2px solid #fff;
        }
        .dashboard-buttons .btn-light:hover,
        .dashboard-buttons .btn-outline-light:hover {
            opacity: 0.9;
        }
        .info-section {
            padding: 60px 0;
            text-align: center;
        }
        .info-section h2 {
            font-weight: 600;
            margin-bottom: 40px;
            color: #26a69a;
        }
        .info-card {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            padding: 30px;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        .info-card .icon {
            font-size: 3rem;
            color: #26a69a;
            margin-bottom: 15px;
        }
        .info-card h3 {
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }
        .info-card p {
            color: #666;
            line-height: 1.6;
        }
        footer {
            background-color: #343a40;
            color: white;
            padding: 40px 0;
            text-align: center;
        }
        footer h3 {
            color: #fff;
            margin-bottom: 15px;
        }
        footer p {
            color: #adb5bd;
            font-size: 0.9rem;
        }
        .map-section {
            padding: 60px 0;
            background-color: #fff;
        }
        .map-section h2 {
            font-weight: 600;
            margin-bottom: 40px;
            color: #26a69a;
            text-align: center;
        }
        #map {
            height: 400px;
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        .sensor-info {
            background-color: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
        }
        .sensor-info h4 {
            color: #26a69a;
            margin-bottom: 15px;
        }
        .sensor-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        .status-active {
            background-color: #d4edda;
            color: #155724;
        }
        .status-inactive {
            background-color: #f8d7da;
            color: #721c24;
        }
    </style>
</head>
<body>
    <header class="sticky-top">
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="/">
                    <span class="me-2">üîä</span> <strong>SoundDash</strong>
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/live_monitor">Monitoriza√ß√£o ao Vivo</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/interval_monitor">Monitoriza√ß√£o por Intervalo</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link" href="/events">Eventos</a>
                        </li>
                        <li class="nav-item ms-lg-3">
                            <a class="btn btn-outline-light" href="/admin_login">Login de Admin</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <section class="hero-section">
        <div class="container">
            <h1 class="display-4">Monitoriza√ß√£o inteligente de sons urbanos</h1>
            <p class="lead">Plataforma para monitoriza√ß√£o e an√°lise de eventos sonoros em cidades.</p>
            <div class="dashboard-buttons">
                <a href="/live_monitor" class="btn btn-light">Monitoriza√ß√£o ao Vivo</a>
                <a href="/interval_monitor" class="btn btn-light">Monitoriza√ß√£o por Intervalo</a>
                <a  href="/events" class="btn btn-light">Eventos</a>
            </div>
        </div>
    </section>

    <section class="info-section bg-light">
        <div class="container">
            <h2>Funcionalidades Principais</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="info-card">
                        <div class="icon">‚è±Ô∏è</div>
                        <h3>Monitoriza√ß√£o em Tempo Real</h3>
                        <p>Acompanhe eventos sonoros em toda a cidade √† medida que ocorrem com atraso m√≠nimo.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="info-card">
                        <div class="icon">üîä</div>
                        <h3>An√°lise de Som</h3>
                        <p>T√©cnicas avan√ßadas de processamento de som para identificar eventos ac√∫sticos urbanos.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="info-card">
                        <div class="icon">üìä</div>
                        <h3>Visualiza√ß√£o de Dados</h3>
                        <p>Compreenda padr√µes de som com gr√°ficos intuitivos e relat√≥rios visuais.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="map-section">
        <div class="container">
            <h2>Localiza√ß√£o das Esta√ß√µes de Monitoriza√ß√£o</h2>
            <div class="row">
                <div class="col-lg-8">
                    <div id="map"></div>
                </div>
                <div class="col-lg-4">
                    <div class="sensor-info">
                        <h4>Esta√ß√µes de Monitoriza√ß√£o Ativas</h4>
                        <div class="mb-3">
                            <h5>Esta√ß√£o de Monitoriza√ß√£o 1 - ISEL</h5>
                            <span class="sensor-status status-active">Ativo</span>
                            <p class="mt-2 mb-1"><small>üìç Lat: 38.756509, Lng: -9.116227</small></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h3 class="h5">SoundDash</h3>
                    <p class="mb-0">Dashboard agregador de eventos sonoros em Smart Cities</p>
                    <p class="small mt-2">Licenciatura em Engenharia Inform√°tica, Redes e Telecomunica√ß√µes<br>
                    Ano-Letivo 2024/2025</p>
                </div>
            </div>
            <hr class="mt-4">
            <div class="text-center">
                <p class="mb-0">&copy; 2025 SoundDash. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Inicializar o mapa centrado em Lisboa
        var map = L.map('map').setView([38.7223, -9.1393], 12);

        // Adicionar camada do OpenStreetMap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Definir localiza√ß√µes dos sensores
        var sensors = [
            {
                name: "Esta√ß√£o de Monitoriza√ß√£o 1 - ISEL",
                lat: 38.756509,
                lng: -9.116227,
                status: "active"
            }
        ];

        // Adicionar marcadores para cada sensor
        sensors.forEach(function(sensor) {
            var iconColor = sensor.status === 'active' ? 'green' : 'red';
            var iconUrl = 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-' + iconColor + '.png';
            
            var customIcon = L.icon({
                iconUrl: iconUrl,
                shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
                iconSize: [25, 41],
                iconAnchor: [12, 41],
                popupAnchor: [1, -34],
                shadowSize: [41, 41]
            });

            var marker = L.marker([sensor.lat, sensor.lng], {icon: customIcon}).addTo(map);
            
            var popupContent = '<b>' + sensor.name + '</b><br>' +
                             'Status: ' + (sensor.status === 'active' ? 'Ativo' : 'Inativo') + '<br>';
            
            marker.bindPopup(popupContent);
        });
    </script>
</body>
</html>